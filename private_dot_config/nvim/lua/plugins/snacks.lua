-- https://github.com/folke/snacks.nvim

local logo = [[
 ⠀⠀⠀⠀⠀⠀⠀⠀⢷⣿⡚⠻⠿⣷⣶⣤⢄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⡿⣦⠀⠀⠈⠉⠳⢯⣳⣄⡀⠀⠀⠀⠀⠀⠀⠀⡀⣀⣀⠀⠀⢀⣤⣤⣴⣶⡿⣿⣶⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣾⣧⠀⡀⠀⠀⠀⠙⠳⣿⣗⣦⣖⠒⠊⠉⠉⠀⠀⠈⠉⣩⡽⠟⢋⣡⣤⠶⠶⠾⠿⠿⠿⢶⣖⣒⡾⠿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣧⠘⢦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⣠⡾⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠲⢶⣿⣅⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣧⠈⢧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⡾⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣝⣦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡾⠋⠉⠁⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⡙⠛⢻⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⢠⡟⠀⠀⠀⠀⣿⣶⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⠿⣿⣶⠄⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣧⡀⠀⠀⠀⠀⠀⠀⣸⡁⣾⠇⠀⠀⠀⠀⢿⡙⢷⣬⣵⣶⣦⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡤⠔⠋⢀⣴⡿⠉⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣦⡀⠀⠀⠀⠀⣿⠙⠿⣿⣆⠀⢲⡗⠚⠃⣀⣽⣶⣽⣿⣷⠀⠰⣄⠀⠀⠀⠀⠀⠉⠁⠀⣠⣴⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣨⣿⣿⣶⣄⡀⠀⢿⣇⢲⣌⢻⠀⣼⠀⠀⢸⢹⣿⣿⣿⡿⣿⣧⣄⣙⣻⣷⡶⢶⣤⣴⣶⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣶⠿⠛⣉⠿⠒⣿⣿⣿⣿⡖⠿⡆⢻⣿⡇⢷⠀⠀⠘⣿⣿⣿⠟⠀⠸⡟⠊⠉⠉⣁⣴⣿⡟⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣶⡿⠛⣉⡤⠖⢋⣠⣴⣄⣼⣿⣿⡿⠷⢦⣿⣄⣨⡇⠘⣷⡀⠀⠈⠛⠧⠤⠤⠒⠃⠀⠀⢰⣿⣿⠃⣽⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⣠⣴⡿⠋⣡⠴⠋⣡⡴⢾⣏⣁⣼⡿⠟⠉⠀⠀⠀⠀⠈⠻⣿⣧⠀⢸⡇⠀⠀⠿⢷⣦⣀⠀⠀⢰⠆⠘⠻⢟⣿⠿⣿⣦⡤⣤⠀⠀⣀⣠⣴⣶⠿⠿⠛⠛⠛⡿
 ⠀⠀⠀⠀⠀⢀⣼⡟⢁⡴⠋⣡⡴⠛⣿⣄⣰⠿⠋⠁⠀⠀⠀⣀⣤⠶⢾⠷⢦⣽⡏⠳⣄⣿⣦⡀⠀⠀⠀⠈⠉⠓⠂⣀⣤⣴⣿⣧⣤⣤⡾⠟⠁⣠⣾⣿⠛⠁⠀⠀⠀⠀⠀⠀⠇
 ⠀⠀⠀⠀⣠⣿⠋⣰⠋⣠⢾⡏⠀⢀⣿⠟⠁⠀⠀⠀⠀⣰⡟⠉⠀⠀⢸⠀⢸⡟⠛⣶⡾⠛⠁⠛⢿⣶⣦⣤⣶⣶⣾⠿⠛⠋⠀⠉⠋⠉⠀⣠⣾⠟⢁⠇⠀⠀⠀⠀⠀⠀⠀⣴⠆
 ⠀⠀⠀⣰⣿⠃⡴⢃⣾⣇⠈⣷⣴⡿⠁⠀⠀⠀⢀⡄⠠⣯⣿⠀⠀⠀⢸⠀⢸⣷⢞⣽⣿⣥⠶⠶⣿⢻⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⠟⠁⠀⣸⠀⠀⠀⠀⠀⠀⠀⣼⡟⠀
 ⠀⠀⢠⣿⠃⡼⢁⡾⢙⣿⣤⣾⡿⠀⠀⠀⠀⠀⠈⠀⠀⠸⠿⣇⠀⠀⢸⠀⠀⣿⣿⣿⡍⠀⠀⣆⠸⣿⡀⠀⠀⠀⠀⠀⠀⠀⢀⡤⣺⠟⠁⠀⢀⡴⠋⠓⠒⠒⠤⠤⣠⢾⠟⠀⠀
 ⠀⠀⡼⡏⢰⣧⣼⣿⣿⣿⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⡄⠀⢸⠀⠀⢹⣿⣿⣿⡀⠀⢸⡀⢻⣧⠀⠀⠀⠀⠀⢀⣴⣿⠟⠁⠀⣠⠖⠉⠀⠀⠀⠀⣠⡴⣿⠗⠉⠀⠀⠀
 ⠀⣠⣧⣷⣿⡻⣿⣿⣿⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣷⠀⠈⣇⠀⠘⣿⣿⣿⣇⠀⠀⣇⠈⣿⣇⠀⠀⢀⣴⡿⠛⠁⢀⡤⠊⠁⠀⠀⠀⣀⣴⣺⠵⠋⠁⠀⠀⠀⠀⠀
 ⣴⡿⠁⠹⢤⣿⣃⣀⣿⣿⣿⠷⣤⣄⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣹⡆⠀⠸⡆⠀⢹⣿⣿⣿⡀⠀⢹⠀⣿⡿⣶⣴⡿⠋⠀⣠⠔⠋⠀⠀⠀⢀⣴⣾⠿⠊⠁⠀⠀⠀⠀⠀⠀⠀⠀
 ⣿⣴⡶⠀⠰⣟⣶⣹⣿⣿⣷⣤⣀⣈⠉⣹⠟⠳⢶⡶⢛⡿⠛⢿⡟⣿⡄⠀⠹⡀⠀⢿⣿⣿⣇⠀⠈⣾⡟⣠⣿⠋⢀⡤⠚⠁⠀⠀⢀⣤⣾⠟⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠻⠿⢶⣶⣶⣾⣿⣯⣁⣿⠉⠙⠛⠻⠿⢥⣤⣤⣼⣇⢸⣘⣹⣸⡿⠟⢿⡄⠀⢳⡀⠈⢷⣿⣿⠀⢸⡏⣧⢿⢸⡴⠋⠀⠀⢀⣤⣾⠿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠈⠙⠯⣿⣿⠀⠀⠀⠀⠀⠀⠘⢿⣍⠙⠳⠶⠾⠋⠀⠀⠀⢻⣆⠀⢳⣀⣘⣿⣻⣷⡿⣿⢸⣾⣆⢳⣄⣤⣾⠿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⠀⠀⢀⣠⡤⢤⣤⣀⣙⣿⡶⣤⣀⣀⣀⠀⠀⢀⣹⣧⣴⠏⠀⠀⢸⡿⣿⣿⣧⢻⡻⠶⠻⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⣿⣯⣤⣾⡛⠁⠀⠀⢳⡀⠹⣯⣳⣄⣉⣉⣡⣤⣶⠛⠉⡽⣿⡀⢀⠀⠘⣿⣿⣽⣝⢷⣿⣦⣼⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⠈⢉⢿⣿⡿⠆⠀⠀⠀⠳⡀⣿⡟⠛⠛⠛⠛⠓⢬⡳⠾⣷⡿⣧⡀⠀⣤⣿⣿⣿⡟⠉⠛⠛⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⢰⣻⠟⠙⣧⡀⠀⠀⣀⣠⣿⣿⠃⠀⠀⠀⠀⠀⠀⠈⢷⣾⡷⠿⣿⣿⣽⣷⡏⠻⣟⢆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⣯⡟⠰⣾⣿⣿⣶⢿⣻⡿⠟⠃⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⠿⢿⡻⣿⣿⣿⣦⡙⣿⡷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
 ⠀⠀⠀⠀⠀⠀⠀⠀⢿⢿⣾⣿⣿⣿⡿⣍⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢾⣿⣿⣿⣿⣿⣿⣮⢣⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀                ⠀⠀⠀⠀⠀⠀⠀⠀                ⠀⠀⠀⠀⠀⠀⠀⠀
                            - neovim -   ⠀⠀⠀⠀⠀⠀⠀⠀                ⠀
      ]]

logo = string.rep("\n", 8) .. logo .. "\n\n"

return
{
  "folke/snacks.nvim",
  ---@type snacks.Config
  opts = {
    dashboard = {
      preset = {
        header = logo,
        pick = function (cmd, opts)
          return LazyVim.pick(cmd, opts)()
        end,

        -- stylua: ignore
        ---@type snacks.dashboard.Item[]
        keys = {
          { icon = " ", key = "f", desc = "Find File", action = ":lua Snacks.dashboard.pick('files')" },
          -- { icon = " ", key = "n", desc = "New File", action = ":ene | startinsert" },
          { icon = " ", key = "g", desc = "Find Text", action = ":lua Snacks.dashboard.pick('live_grep')" },
          { icon = " ", key = "r", desc = "Recent Files", action = ":lua Snacks.dashboard.pick('oldfiles')" },
          -- { icon = " ", key = "c", desc = "Config", action = ":lua Snacks.dashboard.pick('files', {cwd = vim.fn.stdpath('config')})" },
          { icon = " ", key = "s", desc = "Restore Session", section = "session" },
          -- { icon = " ", key = "x", desc = "Lazy Extras", action = ":LazyExtras" },
          -- { icon = "󰒲 ", key = "l", desc = "Lazy", action = ":Lazy" },
          { icon = " ", key = "q", desc = "Quit", action = ":qa" },
        },

        -- header = vim.split(logo, "\n"),
        -- keys = {
        --   {
        --     action = 'lua require("persistence").load()',
        --     desc = " Restore Session",
        --     icon = " ",
        --     key = "r",
        --   },
        --   {
        --     action = 'lua require("persistence").select()',
        --     desc = " Select Session",
        --     icon = " ",
        --     key = "s",
        --   },
        --   {
        --     action = projects,
        --     desc = " Projects",
        --     icon = " ",
        --     key = "p",
        --   },
        -- }
      }
    }
  }
}
